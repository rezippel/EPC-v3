%% The bulk of this file is abbreviations used in the book.  At the
%% end there is some additional 

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{sty/rzmacros}


% \setlength{\textwidth}{11.5cm}
% \setlength{\textheight}{19cm}
% \setlength{\topmargin}{24pt}
% \setlength{\headheight}{12pt}
% \setlength{\headsep}{20pt}
% \setlength{\footskip}{24pt}

% Set page margins, etc.
\usepackage[letterpaper,
%           textwidth=345pt, textheight=550pt,  % LaTeX defaults
            textwidth=12.5cm, textheight=19cm,
         %   inner=.8in, top=.85in, bottom=.85in, %,bottom=1in % squeeze a lot on the paper
            marginparwidth=1.5in, marginparsep=0.2in, twoside, asymmetric,
            headsep=12pt,
            bindingoffset=0.4in,
            ]{geometry}

%%%%%% Font support

\usepackage{sty/conc}
%\usepackage{mathpazo}

%CM Bright
%\usepackage{cmbright}

%% Palantino/Euler
% \usepackage{pxfonts}
% \usepackage{eulervm}

% Iwona  (sort of like Optima)
% \usepackage[math]{iwona}

%\RequirePackage{mathrsfs}
\RequirePackage{amsmath}
\RequirePackage{amssymb}
\RequirePackage{amsthm}

%% Commutative diagrams
%\RequirePackage{amscd}
\RequirePackage{tikz-cd}
\RequirePackage{pb-diagram}
%\usetikzlibrary{matrix,arrows,decorations,pathmorphing}

\RequirePackage{hyperref}
\RequirePackage{hypcap}

% Hebrew fonts
\RequirePackage{cjhebrew}

%% Index
\usepackage{imakeidx}
\makeindex[columns=3, title=Alphabetical Index, intoc]
%\usepackage[font=small,totoc=true]{idxlayout}
%% Abbreviations used to simplify creating an index entry while
%% defining a term. 
\def\keyi#1{\textit{#1}\index{#1}}
\def\keyb#1{\textbf{#1}\index{#1}}
\def\keyw#1{\texttt{#1}\index{#1@\protect\texttt{#1}}}
\def\key#1{{#1}\index{#1}}

% The following  were intended to be used in in the index, but there
% are better ways to do this now. I'm commenting these out here to
% make sure they don't get used and have included the better approach
% below. 
%\def\bold#1{{\bf #1}}
% \index{cubic|texbf}
%\def\see#1{{\it see} #1}
%\index{cubic|see{Gauss}}

% Customization of program listings
\RequirePackage{listings}
\RequirePackage{xcolor}

% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{10} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{10}  % for normal

% Custom colors
\usepackage{color}
\definecolor{deepblue}{rgb}{0,0,0.5}
\definecolor{deepred}{rgb}{0.6,0,0}
\definecolor{deepgreen}{rgb}{0,0.5,0}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\definecolor{Brown}{cmyk}{0,0.81,1,0.60}
\definecolor{OliveGreen}{cmyk}{0.64,0,0.95,0.40}
\definecolor{CadetBlue}{cmyk}{0.62,0.57,0.23,0}
\definecolor{lightlightgray}{gray}{0.95}

% Python style for highlighting
\lstdefinestyle{mypython}{%
	language=Python,
	basicstyle=\ttm,
	otherkeywords={self},             % Add keywords here
	keywordstyle=\ttb\color{deepblue},
	emph={MyClass,__init__},          % Custom highlighting
	emphstyle=\ttb\color{deepred},    % Custom highlighting style
	stringstyle=\color{deepgreen},
	backgroundcolor=\color{lightlightgray},
	frame=tb,                         % Any extra options here
	showstringspaces=false,            
	showtabs=false,
	keepspaces=true,
	showspaces=false,
	tabsize=2,
	captionpos=b,
    commentstyle={\slshape}     
    columns=fullflexible
}

\lstdefinestyle{mystyle}{
    basicstyle=\ttfamily,
    backgroundcolor=\color{backcolour},
    keywordstyle=\color{magenta},   
    commentstyle=\color{codegreen},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mypython}


\usepackage{graphicx}
\graphicspath{{Pix/}}

\usepackage{xr}

\def\showcites#1{\@ifundefined{xb@#1}{\relax}
{\hskip 1em[\@nameuse{xb@#1}]}}

\usepackage{losymbol}


\newcommand{\mathify}[1]{\ifmmode{#1}\else\mbox{$#1$}\fi}
\newcommand{\bbth}[1]{\mathify{{}^{{{\textit{#1}}}}}}
\newcommand{\rd}{\bbth{rd}}
\newcommand{\thHigh}{\bbth{th}}
\newcommand{\nd}{\bbth{nd}}
\newcommand{\st}{\bbth{st}}

% Math symbols
\newcommand{\A}{\mathbb{A}}    % Affine space
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}
%\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}

\DeclareMathOperator{\cont}{cont}
\DeclareMathOperator{\prim}{prim}
\DeclareMathOperator{\Lt}{Lt}
\DeclareMathOperator{\lt}{lt}
\DeclareMathOperator{\lc}{lc}
\DeclareMathOperator{\lexp}{le}
\DeclareMathOperator{\terms}{terms}
\DeclareMathOperator{\coef}{coef}
\DeclareMathOperator{\dens}{dens}
\DeclareMathOperator{\skel}{skel}
\DeclareMathOperator{\sep}{sep}
\newcommand{\Char}{\mathop{\rm char}\nolimits}
\newcommand{\Mor}{\mathop{\rm Mor}\nolimits}
\newcommand{\End}{\mathop{\rm End}\nolimits}
\newcommand{\prem}{\mathop{\rm prem}\nolimits}
\newcommand{\lcm}{\mathop{\rm lcm}\nolimits}
\newcommand{\num}{\mathop{\rm num}\nolimits}
\newcommand{\den}{\mathop{\rm den}\nolimits}
\newcommand{\res}{\mathop{\rm res}\nolimits}
\newcommand{\val}{\mathop{\rm val}\nolimits}
\newcommand{\Tr}{\mathop{\rm Tr}\nolimits}
\newcommand{\Ord}{\mathop{\rm ord}\nolimits}
\newcommand{\Res}{\mathop{\rm Res}\nolimits}
%\newcommand{\Mult}{\mathop{\rm Mult}\nolimits}
\newcommand{\Spec}{\mathop{\rm Spec}\nolimits}
\newcommand{\coker}{\mathop{\rm coker}\nolimits}
\newcommand{\Gal}{\mathop{\rm Gal}\nolimits}
\newcommand{\Norm}{\mathop{\mathbf{N}}\nolimits}
\newcommand{\Dscr}{\mathop{\mathbf{D}}\nolimits}
\newcommand{\Logint}{\mathop{\rm Li}\nolimits}
\newcommand{\unifdeg}{\mathop{\rm unifdeg}\nolimits}
\newcommand{\fieldDegree}[2]{[#1\!:\!#2]}
\newcommand{\groupDegree}[2]{(#1\!:\!#2)}
\newcommand{\legendre}{\overwithdelims()}
\newcommand{\dist}{\mathop{\rm dist}\nolimits}
\newcommand{\vol}{\mathop{\rm vol}\nolimits}
\newcommand{\MULT}{\mathop{\rm Mult}\nolimits}


\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}{Lemma}[theorem]
\newtheorem{proposition}{Proposition}[chapter]
\newtheorem{definition}{Definition}[chapter]
\newtheorem{corollary}{Corollary}
\newtheorem{conjecture}{Conjecture}[chapter]
\newtheorem{fact}{Fact}[chapter]
\newtheorem{problem}{Problem}
% \newenvironment{proof}{\noindent{\bf Proof:}}{\unskip~~$\QEDbox$\medskip}
% \def\QEDbox{\fbox{\rule{0ex}{1ex}}}

% Cross referencing commands
\newcommand{\chapref}[1]{Chapter~\ref{#1}}
\newcommand{\sectref}[1]{Section~\ref{#1}}
\newcommand{\appenref}[1]{Appendix~\ref{#1}}
\newcommand{\thmref}[1]{Theorem~\ref{#1}}
\newcommand{\propref}[1]{Proposition~\ref{#1}}
\newcommand{\conjref}[1]{Conjecture~\ref{#1}}
\newcommand{\corref}[1]{Corollary~\ref{#1}}
\newcommand{\defref}[1]{Definition~\ref{#1}}
\newcommand{\lemref}[1]{Lemma~\ref{#1}}
\newcommand{\figref}[1]{Figure~\ref{#1}}
\newcommand{\tableref}[1]{Table~\ref{#1}}
\newcommand{\eqnref}[1]{(\ref{#1})}

% English things in Latin
\newcommand{\ie}{{\em i.e.}}
\newcommand{\viz}{{\em viz.}}
\newcommand{\cf}{{\em cf.}}
\newcommand{\Eg}{{\em E.g.}}
\newcommand{\eg}{{\em e.g.}}
\newcommand{\etal}{{\em et.al.}}

\def\Altran{{\sc Altran}\index{Altran@\sc Altran\rm}}
\def\Alpak{{\sc Alpak}\index{Alpak@\sc Alpak\rm}}
\def\Axiom{{Axiom}\index{Axiom\rm}}
\def\Camal{{\sc Camal}\index{Camal@\sc Camal\rm}}
\def\CLisp{{\sc Common Lisp}\index{Common Lisp@\sc Common Lisp\rm}}
\def\Formac{{\sc Formac}\index{Formac=\sc Formac\rm}}
\def\Lisp{{\sc Lisp}\index{Lisp=\sc Lisp\rm}}
\def\Macsyma{{\sc Macsyma}\index{Macsyma@\sc Macsyma\rm}}
\def\Maple{{\sc Maple}\index{Maple!@\sc Maple\rm}}
\def\Mathlab{{\sc Mathlab 68}\index{Mathlab@\sc Mathlab 68\rm}}
\def\Mathematica{{\sc Mathematica}\index{Mathematica@\sc Mathematica\rm}}
\def\Reduce{{\sc Reduce}\index{Reduce@\sc Reduce\rm}}
\def\Sac{{\sc Sac}\index{Sac@\sc Sac\rm}}
\def\Saint{{\sc Saint}\index{Saint@\sc Saint\rm}}
\def\Weyl{{Weyl}\index{Weyl}}
\def\pger{{\mathfrak p}}
\def\Pger{{\mathfrak P}}
\def\mger{{\mathfrak m}}

\def\BBoxExp{R_{{\cal B}_P}}

\def\lexord{\ge_{\rm lex}}
\def\totord{\ge_{\rm tot}}
\def\revord{\ge_{\rm rev}}
\def\domord{\ge_{\rm dom}}

\def\th{\thHigh}


\usepackage{marginnote}
\let\oldmarginnote\marginnote
\renewcommand{\marginnote}[1]{\oldmarginnote{\footnotesize  #1}}
% \let\oldmarginpar\marginpar
% \renewcommand\marginpar[1]{\-\oldmarginpar[\raggedleft\footnotesize #1]%
% {\raggedright\footnotesize #1}}

\usepackage{ifthen,changepage}
\usepackage{xargs}

\newcommandx{\leftmarginnote}[2][2=0pt]
           {\checkoddpage
            \ifoddpage
              {\reversemarginpar\marginnote{#1}[#2]}
            \else
              {\marginnote{#1}[#2]}
            \fi}
\newcommandx{\rightmarginnote}[2][2=0pt]
           {\checkoddpage
            \ifoddpage
              {\marginnote{#1}[#2]}
            \else
              {\reversemarginpar\marginnote{#1}[#2]}
            \fi}
        
\def\Marginpar#1{\rightmarginnote{\#1}}  


\let\oldindex\index
\renewcommand{\index}[1]{\oldindex{#1}\rightmarginnote{\bfseries{#1}}}


% Below here is special to Books

\newcommand{\longpropref}[1]{Proposition~\ref{#1} (page~\pageref{#1})}
\newcommand{\notesectref}[1]{\medskip\noindent{\bf \S\ref{#1}}}
\newcommand{\exeref}[1]{Exercise~\ref{#1} (page~\pageref{#1})}
\newcommand{\sign}{\mathop{\rm sign}\nolimits}

\def\thebibliography#1{\chapter*{Bibliography\@mkboth
 {Bibliography}{Bibliography}} \par
 \addcontentsline{toc}{chapter}{\protect\numberline{Bibliography}}
The pages on which each reference is cited are included in brackets at
the end of each reference. \par\medskip\small\list
 {[\arabic{enumi}]}{\settowidth\labelwidth{[#1]}\leftmargin\labelwidth
 \advance\leftmargin\labelsep
 \usecounter{enumi}}
 \def\newblock{\hskip .11em plus .33em minus -.07em}
 \sloppy\clubpenalty4000\widowpenalty4000
 \sfcode`\.=1000\relax}
\makeatother

\def\mdline#1#2{
  \hbox to\hsize{\hskip\leftmargin\small{\tt (#2)}\hfill$\displaystyle{#1}$\hfill}
  \smallskip}

\newcounter{exercisenum}
\newenvironment{exercise}{ \begin{list}{\arabic{exercisenum}.}\item }%
 {\end{list}\addtocounter{exercisenum}{1}}

\newcounter{algstepnum}
\newenvironment{algorithm}[1]%
  {\begin{list}{\bf #1\arabic{algstepnum}.}%
   {\usecounter{algstepnum}}%
   \setcounter{algstepnum}{0}}%
  {\end{list}}
\newcommand{\stepref}[1]{step~{\bf\ref{#1}}}

\def\begindsacode{%
  \par\begin{center}\begin{minipage}{6in}%
  \begingroup\small\tt\begin{tabbing}12\=34\=\kill}
\def\enddsacode{\end{tabbing}\endgroup\end{minipage}\end{center}}

\usepackage{rzbook}

% \usepackage[bookmarks=false,hyperindex=false]{hyperref}
% \let\WriteBookMarks\relax
\raggedbottom

\setcounter{secnumdepth}{3}     % Number subsubsection's as well
\setcounter{tocdepth}{3}        % Also put in contents 


% Names of people
\input{sty/people}
